<Window x:Class="User.View.UserWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ig="http://schemas.infragistics.com/xaml"
        xmlns:wpfx="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:local="clr-namespace:User"
        mc:Ignorable="d"
        Title="Решение оптимизационных задач" Height="600" Width="1020" WindowStartupLocation="CenterScreen" >
    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Height" Value="37"></Setter>
            <Setter Property="Width" Value="200"></Setter>
        </Style>
        <Style TargetType="wpfx:DoubleUpDown">
            <Setter Property="Width" Value="60"></Setter>
            <Setter Property="Margin" Value="3"></Setter>
        </Style>
    </Window.Resources>
    <StackPanel>
        <Menu>
            <MenuItem Header="File">
                <MenuItem Header="Сохранить как..." Command="{Binding Saveresult}"/>
            </MenuItem>
            <MenuItem Header="Help">
                <MenuItem Header="О программе..." Command="{Binding Reference}"/>
            </MenuItem>
        </Menu>
        <StackPanel Orientation="Horizontal">
            <StackPanel>
                <GroupBox Header="Задача" >
                    <StackPanel>
                        <ComboBox DockPanel.Dock="Top" ItemsSource="{Binding Gettasks}" DisplayMemberPath="Name"
                                  SelectedItem="{Binding GetcurrentTask}"/>
                    </StackPanel>
                </GroupBox>
                <GroupBox Header="Метода оптимизации" DockPanel.Dock="Top">
                    <StackPanel>
                        <ComboBox ItemsSource="{Binding Getmethods}" DisplayMemberPath="Name"
                                  SelectedItem="{Binding GetcurrentMethod}"/>
                    </StackPanel>
                </GroupBox>
                <GroupBox Header="Экстремум">
                    <StackPanel>
                        <ComboBox HorizontalContentAlignment="Center"
                                  ItemsSource="{Binding Path = GetlistExtremum, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  SelectedItem="{Binding Path = Getextremum, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
            <GroupBox Header="Определение ограничений" DockPanel.Dock="Top">
                <StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="Точность решения ε:"/>
                        <wpfx:DoubleUpDown HorizontalContentAlignment="Center" Grid.Column="2" Grid.Row="2" Minimum="0.000001" Maximum="1"
                                           Value="{Binding Path = Getε, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <wpfx:DoubleUpDown HorizontalContentAlignment="Center" 
                                               Value="{Binding Path = Getxmin, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <Label HorizontalContentAlignment="Center" Content="⩾ Х ⩾" Grid.Column="1"/>
                        <wpfx:DoubleUpDown HorizontalContentAlignment="Center" Grid.Column="2"
                                               Value="{Binding Path = Getxmax, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <wpfx:DoubleUpDown HorizontalContentAlignment="Center" 
                                               Value="{Binding Path = Getymin, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Row="1"/>
                        <Label HorizontalContentAlignment="Center" Content="⩾ Y ⩾" Grid.Column="1" Grid.Row="1"/>
                        <wpfx:DoubleUpDown HorizontalContentAlignment="Center" Grid.Column="2"
                                               Value="{Binding Path = Getymax, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Row="1" Height="23" VerticalAlignment="Top"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <Label HorizontalContentAlignment="Center" Content="Y"/>
                        <ComboBox HorizontalContentAlignment="Center" Grid.Column="1" 
                                      ItemsSource="{Binding Path = GetlistSing, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                      SelectedItem="{Binding Path = Getsing, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <wpfx:DoubleUpDown HorizontalContentAlignment="Center" Grid.Column="2"
                                               Value="{Binding Path = Getk, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        <Label HorizontalContentAlignment="Center" Content="X +" Grid.Column="3"/>
                        <wpfx:DoubleUpDown HorizontalContentAlignment="Center" Grid.Column="4"
                                               Value="{Binding Path = Getb, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>
            
            <GroupBox Header="Выполнение" DockPanel.Dock="Top">
                <StackPanel>
                    <Button Content="3D График" Command="{Binding Build3DChart}"/>
                    <Button DockPanel.Dock="Top" Content="Вычислить" Command="{Binding Start}"/>
                    <Button Content="Очистить график" Command="{Binding Clear}"/>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Результаты">
                <StackPanel>
                    <TextBox IsReadOnly="True"
                        Text="{Binding Path = Getresult, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Height="120" Width="250"/>
                </StackPanel>
            </GroupBox>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <StackPanel>
                <GroupBox Header="График функции">
                    <StackPanel>
                        <ig:XamDataChart Width="460" Height="380">
                            <ig:XamDataChart.Axes>
                                <ig:NumericXAxis x:Name="xAxis" Title="Ось X"/>
                                <ig:NumericYAxis x:Name="yAxis" Title="Ось Y"/>
                            </ig:XamDataChart.Axes>
                            <ig:XamDataChart.Series>
                                <ig:ScatterContourSeries 
                                XAxis="{Binding ElementName=xAxis}"
                                YAxis="{Binding ElementName=yAxis}"
                                XMemberPath="X"
                                YMemberPath="Y"
                                ValueMemberPath="Z"
                                ItemsSource="{Binding Getchart3Ddata}"/>
                                <ig:ScatterLineSeries
                                Thickness="2"
                                XAxis="{Binding ElementName=xAxis}"
                                YAxis="{Binding ElementName=yAxis}"
                                XMemberPath="X"
                                YMemberPath="Y"
                                ItemsSource="{Binding Getchart2Ddata}"/>
                                <ig:ScatterSeries 
                                XAxis="{Binding ElementName=xAxis}"
                                YAxis="{Binding ElementName=yAxis}"
                                XMemberPath="X"
                                YMemberPath="Y"
                                ItemsSource="{Binding GetfunctionValue}"/>
                            </ig:XamDataChart.Series>
                        </ig:XamDataChart>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
            <StackPanel Margin="5,0,5,0">
                <TextBlock Text="Описание задачи: "></TextBlock>
                <TextBlock Text="{Binding DescriptionTask}" TextWrapping="Wrap" Width="510" Height="380"></TextBlock>
            </StackPanel>
        </StackPanel>
    </StackPanel>
</Window>
